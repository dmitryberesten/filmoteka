function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register("kyEFX",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"5ZPII":"index.4484c586.js","lp5u4":"sprite.34e24702.svg"}')),window.onscroll=function(){var e,t,n;e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,n=e/t*100,document.getElementById("myBar").style.width=n+"%"};async function o(e){const t=new URL("https://api.themoviedb.org/3/trending/movie/week");t.searchParams.append("api_key","db5c04dbd9637821020050cea594d5e0"),t.searchParams.append("page",e);const n=await fetch(t),r=await n.json();return console.log(r),r}async function s(){const e=new URL("https://api.themoviedb.org/3/genre/movie/list");e.searchParams.append("api_key","db5c04dbd9637821020050cea594d5e0");const t=await fetch(e);return(await t.json()).genres}console.log(o(3));async function i(e){const t=await s();return e.map((({id:n,poster_path:r,title:a,release_date:o,genre_ids:s,original_title:i,vote_average:c}=e)=>{const l=r?`https://image.tmdb.org/t/p/w500${r}`:"https://i.ibb.co/r76r6Vt/oie-30214851-Ms-Wl-PTS0.png",u=o?o.split("-")[0]:"Unknown",g=s?function(e,t){const n=[];for(const r of t)e.includes(r.id)&&n.push(r.name);return e.length>2&&n.splice(2,n.length-2,"Other"),n.join(", ")}(s,t):"Unknown";return`\n      <li class='movie_list_item' data-id="${n}>\n      <a href="" class='movie_list_link link' id=${n}>\n      <div class="movie__cover--darkened"></div>\n        <img class="movie_list_image" src=${l} alt='Poster ${i}' loading='lazy' />\n        <div class='movie-info'>\n            <p class='movie-title'>\n              <b>${a.toUpperCase()}</b>\n            </p>\n            <p class='movie-date'>\n              <span>${g} | ${u}</span>\n            </p>\n            <div class="movie__average movie__average--${d=c,d>=8?"green":d>6?"orange":"red"}">${c.toFixed(1)}</div>\n        </div>\n        </a>\n      </li>\n      `;var d})).join("")}document.querySelector(".footer__link");const c={pagination:document.querySelector(".pagination")};var l;l=new URL(a("kyEFX").resolve("lp5u4"),import.meta.url).toString();const u={currentPage:1,totalPages:0,sprite:new URL(l)},{pagination:g}=c,d=(e,t)=>{const n=Math.ceil(e/5),r=Math.ceil(t/5),a=5*(r-1)+1,o=Math.min(a+5-1,e);return{pages:Array.from({length:o-a+1},((e,t)=>a+t)),hasPrevGroup:r>1,hasNextGroup:r<n}},p=()=>{const{pages:e,hasPrevGroup:t,hasNextGroup:n}=d(u.totalPages,u.currentPage),r=`<button type="button" class="end-btn page-btn">${u.totalPages}</button>`,a=`<button type="button" class="prev-btn page-btn"><svg class="icon icon-arrow-left">\n    <use xlink:href="${u.sprite}#icon-arrow-left"></use>\n  </svg></button>`,o=`<button type="button" class="next-btn page-btn"><svg class="icon icon-arrow-right">\n    <use xlink:href="${u.sprite}#icon-arrow-right"></use>\n  </svg></button>`;return(t?a+'<button type="button" class="start-btn page-btn">1</button><button class="page-btn prev-dots">...</button>':"")+e.map((e=>`<button type="button" class="page-btn ${e===u.currentPage?"active-page":""}\n        ">${e}</button>`)).join("")+(n?'<button class="page-btn next-dots">...</button>'+r+o:"")},b=()=>{g.insertAdjacentHTML("beforeend",p())},v=e=>{u.currentPage=e,g.innerHTML="",b(p())},m=document.querySelector(".movies");u.currentPage=1,o(u.currentPage).then((e=>{const{results:t,total_pages:n}=e;return u.totalPages=n,u.totalPages>1&&b(),i(t)})).then((e=>{m.insertAdjacentHTML("beforeend",e)})),c.pagination.addEventListener("click",(async e=>{if("BUTTON"===e.target.nodeName&&Number(e.target.textContent)!==u.currentPage){e.target.classList.contains("next-btn")&&v(u.currentPage+1),e.target.classList.contains("prev-btn")&&v(u.currentPage-1),e.target.classList.contains("next-dots")&&(()=>{const{pages:e}=d(u.totalPages,u.currentPage),t=e[e.length-1],n=Math.min(t+1,u.totalPages);u.currentPage=e[e.length-1]+1,v(n)})(),e.target.classList.contains("prev-dots")&&(()=>{const{pages:e}=d(u.totalPages,u.currentPage),t=e[0],n=Math.max(t-1,1);v(n)})(),m.innerHTML="",(e=>{const t=document.querySelector(".active-page"),n=Number(e.target.textContent)||u.currentPage;n!==u.currentPage&&(v(n),t.classList.remove("active-page"),e.target.classList.add("active-page"))})(e);try{const{results:e}=await o(u.currentPage),t=await i(e);m.insertAdjacentHTML("beforeend",t)}catch(e){console.error(e.message)}}}));
//# sourceMappingURL=index.4484c586.js.map
