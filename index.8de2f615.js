!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},n.parcelRequired7c6=o),o.register("iE7OH",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var a={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),a[e]=t),t}})),o("iE7OH").register(JSON.parse('{"EVgbq":"index.8de2f615.js","ee16w":"sprite.34e24702.svg","7nwxg":"library.0470c5fa.js"}')),o("cDXQO"),window.onscroll=function(){var e,t,n;e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,n=e/t*100,document.getElementById("myBar").style.width=n+"%"};var i=o("b7ONl"),c=o("bpxeT"),s=o("2TvXO"),u=(i=o("b7ONl"),i=o("b7ONl"),"https://i.ibb.co/r76r6Vt/oie-30214851-Ms-Wl-PTS0.png");function l(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var s=i.value;e.includes(s.id)&&n.push(s.name)}}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return e.length>2&&n.splice(2,n.length-2,"Other"),n.join(", ")}function p(e){return g.apply(this,arguments)}function g(){return g=t(c)(t(s).mark((function e(n){var r;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fetchGenres)();case 2:return r=e.sent,e.abrupt("return",n.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=e.id,a=e.poster_path,o=e.title,i=e.release_date,c=e.genre_ids,s=e.original_title,p=e.vote_average,g=a?"https://image.tmdb.org/t/p/w500".concat(a):u,f=i?i.split("-")[0]:"Unknown",v=c?l(c,r):"Unknown";return"\n      <li class='movie_list_item' data-id=\"".concat(t,">\n      <a href=\"\" class='movie_list_link link' id=").concat(t,'>\n      <div class="movie__cover--darkened"></div>\n        <img class="movie_list_image" src=').concat(g," alt='Poster ").concat(s,"' loading='lazy' />\n        <div class='movie-info'>\n            <p class='movie-title'>\n              <b>").concat(o.toUpperCase(),"</b>\n            </p>\n            <p class='movie-date'>\n              <span>").concat(v," | ").concat(f,'</span>\n            </p>\n            <div class="movie__average movie__average--').concat(d(p),'">').concat(p.toFixed(1),"</div>\n        </div>\n        </a>\n      </li>\n      ")})).join(""));case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function d(e){return e>=8?"green":e>6?"orange":"red"}c=o("bpxeT"),s=o("2TvXO"),i=o("b7ONl");document.querySelector(".footer__link");var f,v={pagination:document.querySelector(".pagination")};f=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("ee16w");var b,h={currentPage:1,totalPages:0,sprite:new URL(f)},m=v.pagination,x=function(e,t){var n=Math.ceil(e/5),r=Math.ceil(t/5),a=5*(r-1)+1,o=Math.min(a+5-1,e);return{pages:Array.from({length:o-a+1},(function(e,t){return a+t})),hasPrevGroup:r>1,hasNextGroup:r<n}},y=function(){var e=x(h.totalPages,h.currentPage),t=e.pages,n=e.hasPrevGroup,r=e.hasNextGroup,a='<button type="button" class="end-btn page-btn">'.concat(h.totalPages,"</button>"),o='<button type="button" class="prev-btn page-btn"><svg class="icon icon-arrow-left">\n    <use xlink:href="'.concat(h.sprite,'#icon-arrow-left"></use>\n  </svg></button>'),i='<button type="button" class="next-btn page-btn"><svg class="icon icon-arrow-right">\n    <use xlink:href="'.concat(h.sprite,'#icon-arrow-right"></use>\n  </svg></button>');return(n?o+'<button type="button" class="start-btn page-btn">1</button><button class="page-btn prev-dots">...</button>':"")+t.map((function(e){var t=e===h.currentPage?"active-page":"";return'<button type="button" class="page-btn '.concat(t,'\n        ">').concat(e,"</button>")})).join("")+(r?'<button class="page-btn next-dots">...</button>'+a+i:"")},P=function(){m.insertAdjacentHTML("beforeend",y())},w=function(e){h.currentPage=e,m.innerHTML="",P(y())},_=function(){var e=x(h.totalPages,h.currentPage).pages[0],t=Math.max(e-1,1);w(t)},O=function(e){var t=document.querySelector(".active-page"),n=Number(e.target.textContent)||h.currentPage;n!==h.currentPage&&(w(n),t.classList.remove("active-page"),e.target.classList.add("active-page"))},E=(b=t(c)(t(s).mark((function e(n){var r,a;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:if(Number(n.target.textContent)!==h.currentPage){e.next=4;break}return e.abrupt("return");case 4:return n.target.classList.contains("next-btn")&&w(h.currentPage+1),n.target.classList.contains("prev-btn")&&w(h.currentPage-1),n.target.classList.contains("next-dots")&&(t=void 0,o=void 0,c=void 0,t=x(h.totalPages,h.currentPage).pages,o=t[t.length-1],c=Math.min(o+1,h.totalPages),h.currentPage=t[t.length-1]+1,w(c)),n.target.classList.contains("prev-dots")&&_(),T.innerHTML="",O(n),e.prev=10,e.next=13,(0,i.fetchPopularMovies)(h.currentPage);case 13:return r=e.sent.results,e.next=16,p(r);case 16:a=e.sent,T.insertAdjacentHTML("beforeend",a),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.error(e.t0.message);case 23:return e.prev=23,e.finish(23);case 25:case"end":return e.stop()}var t,o,c}),e,null,[[10,20,23,25]])}))),function(e){return b.apply(this,arguments)}),T=document.querySelector(".movies");h.currentPage=1,(0,i.fetchPopularMovies)(h.currentPage).then((function(e){var t=e.results,n=e.total_pages;return h.totalPages=n,h.totalPages>1&&P(),p(t)})).then((function(e){T.insertAdjacentHTML("beforeend",e)})),o("PqlDp"),o("5YIrO"),v.pagination.addEventListener("click",E)}();
//# sourceMappingURL=index.8de2f615.js.map
