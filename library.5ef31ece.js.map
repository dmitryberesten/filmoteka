{"mappings":"gfAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,S,0BAwCA,SAASE,EAAiBC,GACxB,OAAOA,EACJC,KACC,W,6DAWID,EAVFE,EAAEC,EAAFD,GACAE,EAAWD,EAAXC,YACAC,EAAKF,EAALE,MACAC,EAAYH,EAAZG,aACAC,EAASJ,EAATI,UACAC,EAAcL,EAAdK,eACAC,EAAYN,EAAZM,aACAC,EAAUP,EAAVO,WACAC,EAAUR,EAAVQ,WACAC,EAAQT,EAARS,SAEMC,EAAST,EACX,kCAA8CU,OAAZV,GAClCW,UACEC,EAAcV,EAChBA,EAAaW,MAAM,KAAK,GACxB,UACJ,MAAO,iDAEsCH,OADRZ,EAAG,8DAG7BY,OAFkCZ,EAAG,mEAG5BY,OADTZ,EAAG,iCAEAY,OADMD,EAAO,2BAEJC,OADTT,EAAM,oCAECS,OADEN,EAAe,kCAEnBM,OADEL,EAAa,gCAEfK,OADAJ,EAAW,gCAEZI,OADCH,EAAW,+BAEbG,OADCP,EAAU,8BAGQO,OAFnBF,EAAS,gEAEgCE,OAAtBD,EAAO,iBAGhCC,OAH+CN,EAAe,iHAM3DM,OAHHT,EAAMa,cAAc,oFAGFJ,OAAfP,EAAU,OAEyBO,OAFpBE,EAAY,sFAI/BF,QAFuC,EAAAhB,EAAAqB,gBAC3CV,GACA,MAAoCK,OAAhCM,OAAOX,GAAcY,QAAQ,GAAG,8D,IAO7CC,KAAK,G,yBDrFVC,OAAOC,iBAAiB,QCHc,WACpC,IAEIC,EAFEC,GAAO,EAAAC,EAAAC,gBAAeD,EAAAE,iBAAiBC,SAI3CL,OADWM,IAATL,GAAsC,IAAhBA,EAAKM,OAFd,iEAKNjC,EAAiB2B,GAE5BO,EAAAC,KAAKC,UAAUC,mBAAmB,YAAaX,E,IDLjDQ,EAAAC,KAAKG,qBAAqBb,iBACxB,SCM4B,SAAAc,GAC5B,GAA4B,WAAxBA,EAAIC,OAAOC,WACXF,EAAIC,OAAOE,UAAUC,SAAS,UAAlC,CACA,IASIjB,EATEkB,EAAYC,SAASC,cAAc,WACrCC,EAAMR,EAAIC,OAAOQ,QAAQC,MAAM9B,cAE7BQ,GAAO,EAAAC,EAAAC,gBAAeD,EAAAE,iBAAiBiB,IACvCG,EACuC,YAA3CX,EAAIC,OAAOQ,QAAQC,MAAM9B,cACpB,iEACA,0GAILO,OADWM,IAATL,GAAsC,IAAhBA,EAAKM,OACpBiB,EAEAlD,EAAiB2B,GAG5BO,EAAAC,KAAKC,UAAUe,UAAY,GAC3BjB,EAAAC,KAAKC,UAAUC,mBAAmB,YAAaX,GAC/CkB,EAAUF,UAAUU,OAAO,UAC3Bb,EAAIC,OAAOE,UAAUW,IAAI,SApBoB,C","sources":["src/library.js","src/js/render-from-storage.js"],"sourcesContent":["import { page } from './js/api';\nimport './js/api';\nimport './js/trailer';\nimport './js/loader';\nimport * as renderingFromStorage from './js/render-from-storage';\nimport * as openModal from './js/open-and-close-modal';\nimport { refs } from './js/refs';\nwindow.addEventListener('load', renderingFromStorage.loadFromStorageWatched);\nrefs.watchedQueueBtnBlock.addEventListener(\n  'click',\n  renderingFromStorage.onClickWatched\n);","import { getClassByRate } from './create-gallery-markup';\nimport { getFromStorage, localStorageKeys } from './local-storage';\nimport { refs } from './refs';\n\nexport const loadFromStorageWatched = () => {\n  const data = getFromStorage(localStorageKeys.WATCHED);\n  const warning = `<li class=\"watched-warning\">Please add your favorite film</li>`;\n  let markup;\n  if (data === undefined || data.length === 0) {\n    markup = warning;\n  } else {\n    markup = renderMoviesList(data);\n  }\n  refs.moviesLib.insertAdjacentHTML('beforeend', markup);\n};\nexport const onClickWatched = evt => {\n  if (evt.target.nodeName !== 'BUTTON') return;\n  if (evt.target.classList.contains('active')) return;\n  const activeBtn = document.querySelector('.active');\n  let key = evt.target.dataset.value.toUpperCase();\n\n  const data = getFromStorage(localStorageKeys[key]);\n  const warning =\n    evt.target.dataset.value.toUpperCase() === 'WATCHED'\n      ? `<li class=\"watched-warning\">Please add your favorite film</li>`\n      : `<li class=\"watched-warning\">No movies have been added yet. Let's go pick something to your liking</li>`;\n\n  let markup;\n  if (data === undefined || data.length === 0) {\n    markup = warning;\n  } else {\n    markup = renderMoviesList(data);\n  }\n\n  refs.moviesLib.innerHTML = '';\n  refs.moviesLib.insertAdjacentHTML('beforeend', markup);\n  activeBtn.classList.remove('active');\n  evt.target.classList.add('active');\n};\n\nfunction renderMoviesList(movies) {\n  return movies\n    .map(\n      ({\n        id,\n        poster_path,\n        title,\n        release_date,\n        genre_ids,\n        original_title,\n        vote_average,\n        popularity,\n        vote_count,\n        overview,\n      } = movies) => {\n        const poster = poster_path\n          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n          : NO_POSTER;\n        const releaseYear = release_date\n          ? release_date.split('-')[0]\n          : 'Unknown';\n        return `\n      <li class='movie_list_item' data-id=\"${id}\" >\n      <div href=\"\" class='movie_list_link link' id=${id}>\n      <div class=\"movie__cover--darkened\"\n        data-id=\"${id}\"\n        data-poster_path=\"${poster}\"\n        data-title=\"${title}\"\n        data-original_title=\"${original_title}\"\n        data-vote_average=\"${vote_average}\"\n        data-popularity=\"${popularity}\"\n        data-vote_count=\"${vote_count}\"\n        data-genre_ids=\"${genre_ids}\"\n        data-overview=\"${overview}\"\n      ></div>\n        <img class=\"movie_list_image\" src=${poster} alt='Poster ${original_title}' loading='lazy' />\n        <div class='movie-info'>\n            <p class='movie-title'>\n              <b>${title.toUpperCase()}</b>\n            </p>\n            <p class='movie-date'>\n              <span>${genre_ids} | ${releaseYear}</span>\n            </p>\n            <div class=\"movie__average movie__average--${getClassByRate(\n              vote_average\n            )}\">${Number(vote_average).toFixed(1)}</div>\n        </div>\n        </div>\n      </li>\n      `;\n      }\n    )\n    .join('');\n}\n"],"names":["parcelRequire","$ewciJ","$a0e0822b94e253c4$var$renderMoviesList","movies","map","id","ref","poster_path","title","release_date","genre_ids","original_title","vote_average","popularity","vote_count","overview","poster","concat","NO_POSTER","releaseYear","split","toUpperCase","getClassByRate","Number","toFixed","join","window","addEventListener","markup","data","$4LMMA","getFromStorage","localStorageKeys","WATCHED","undefined","length","$4Nugj","refs","moviesLib","insertAdjacentHTML","watchedQueueBtnBlock","evt","target","nodeName","classList","contains","activeBtn","document","querySelector","key","dataset","value","warning","innerHTML","remove","add"],"version":3,"file":"library.5ef31ece.js.map"}