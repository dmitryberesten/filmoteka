{"mappings":"AA6BAA,QAAQC,IAlByBC,eAACC,GAChC,MAAMC,EAAM,IAAIC,IAAI,oDACpBD,EAAIE,aAAaC,OAAO,UAPV,oCAQdH,EAAIE,aAAaC,OAAO,OAAQJ,GAEhC,MAAMK,QAAiBC,MAAML,GAE7B,aADmBI,EAASE,M,CAYlBC,CAAmB,IC7B/B,MAAMC,EAAiBC,SAASC,cAAc,QACxCC,EAAeF,SAASC,cAAc,QCCtCE,EAAQH,SAASI,eAAe,cAEtCC,OAAOC,iBAAiB,WAAWC,IACf,WAAdA,EAAMC,MACRL,EAAMM,UAAUC,OAAO,QACvBC,aAAaC,WAAW,iB,IAI5B,MAAMC,EAAWb,SAASI,eAAe,eAEzCS,EAASP,iBAAiB,SAASC,IACjCpB,QAAQC,IAAI,oBAAqBmB,EAAMO,QACvC3B,QAAQC,IAAI,gBAAiByB,GACzBN,EAAMO,QAAUD,IAClB1B,QAAQC,IAAI,QACZe,EAAMM,UAAUC,OAAO,QACvBC,aAAaC,WAAW,iB,IAI5BP,OAAOU,QAAUR,IACf,IAAIS,EAAQhB,SAASI,eAAe,cAEhCG,EAAMO,QAAUE,IAClBA,EAAMP,UAAUC,OAAO,QACvBC,aAAaC,WAAW,iB,EAI5BP,OAAOY,OAAS,KACd,MAAMC,EAAiBlB,SAASmB,uBAAuB,UAAU,GACjEhC,QAAQC,IAAI,iBAAkB8B,GAC9BA,EAAeZ,iBAAiB,SAASc,IACvC,MAAMC,EAAW,IAAKD,EAAEN,OAAOQ,SAC/BnC,QAAQC,IAAI,OAAQiC,GACpBV,aAAaY,QAAQ,gBAAiBC,KAAKC,UAAUJ,IACrDK,GAAW,GACX,EAGJ,MAAMA,EAAY,KACF1B,SAASI,eAAe,cAChCK,UAAUkB,IAAI,QD3Ca,MACjC,MAAMN,EAAWG,KAAKI,MAAMjB,aAAakB,QAAQ,kBAEjD1C,QAAQC,IAAI,sBAAuBiC,GAEnClC,QAAQC,IAAI,aAAsC,EAAxBiC,EAASS,cAAkBC,QAAQ,IAE7D,MAAMC,EAAUhC,SAASI,eAAe,YAClC6B,EAAYjC,SAASI,eAAe,cACpC8B,EAAQlC,SAASI,eAAe,SAChC+B,EAAQnC,SAASI,eAAe,SAChCgC,EAAYpC,SAASI,eAAe,aACpCiC,EAAQrC,SAASI,eAAe,SAEtC4B,EAAQM,IAAM,GAAGjB,EAASkB,cAC1BN,EAAUO,UAAY,GAAGnB,EAASoB,QAClCC,MAAMF,UAAY,GAAGnB,EAASsB,WAC9B5C,EAAe6C,UAAY,UAC3B1C,EAAa0C,UAAY,QACzB7C,EAAeyC,UAAY,IAA4B,EAAxBnB,EAASS,cAAkBC,QAAQ,KAClE7B,EAAasC,UAAY,KAAKnB,EAASwB,aAEvCX,EAAMxC,OAAOK,EAAgBG,GAE7BiC,EAAMK,UAAY,GAAGnB,EAASyB,aAC9BV,EAAUI,UAAY,GAAGnB,EAAS0B,iBAClCV,EAAMG,UAAY,GAAGnB,EAAS2B,WAAW,ECkBzCC,EAAoC","sources":["src/js/api.js","src/js/loading-into-modal.js","src/js/open-and-close-modal.js"],"sourcesContent":["let page;\nlet query;\n\n//основа для запиту\nconst BASE_URL = 'https://api.themoviedb.org/3';\n//персональний ключ\nconst API_KEY = 'db5c04dbd9637821020050cea594d5e0';\n// const WATCH_KEY = 'watched';\n// const QUEUE_KEY = 'queue';\n\n//запит на отримання популярних фільмів\nasync function fetchPopularMovies(page) {\n  const url = new URL(`${BASE_URL}/trending/movie/week`);\n  url.searchParams.append('api_key', API_KEY);\n  url.searchParams.append('page', page);\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\nasync function fetchTodayPopularMovies() {\n  const url = new URL(`${BASE_URL}/trending/movie/day`);\n  url.searchParams.append('api_key', API_KEY);\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n// `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&page=${page}&adult=false`;\nconsole.log(fetchPopularMovies(3));\n\n//запит на отримання фільмів по запиту\nasync function fetchMoviesByQuery(query, page) {\n  const url = new URL(`${BASE_URL}/search/movie`);\n  url.searchParams.append('api_key', API_KEY);\n  url.searchParams.append('query', query);\n  url.searchParams.append('page', page);\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n// `${BASE_URL}/search/movie?api_key=${API_KEY}&page=${page}&adult=false&query=${query}`;\n// console.log(fetchMoviesByQuery('avengers', 1));\n\n//запит на отримання фільму по id\nasync function fetchMovieById(id) {\n  const url = new URL(`${BASE_URL}/movie/${id}`);\n  url.searchParams.append('api_key', API_KEY);\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n// `${BASE_URL}/movie/${id}?api_key=${API_KEY}`;\n// console.log(fetchMovieById(299534));\n\n//запит на отримання трейлера по id\nasync function fetchTrailerById(id) {\n  const url = new URL(`${BASE_URL}/movie/${id}/videos`);\n  url.searchParams.append('api_key', API_KEY);\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n// `${BASE_URL}/movie/${id}/videos?api_key=${API_KEY}`;\n// console.log(fetchTrailerById(299534));\n\n//запит на отримання жанрів\nasync function fetchGenres() {\n  const url = new URL(`${BASE_URL}/genre/movie/list`);\n  url.searchParams.append('api_key', API_KEY);\n\n  const response = await fetch(url);\n  const data = await response.json();\n  return data.genres;\n}\n\n// `${BASE_URL}/genre/movie/list?api_key=${API_KEY}`;\n// console.log(fetchGenres());\n\n//Експорт запитів\nexport {\n  fetchPopularMovies,\n  fetchTodayPopularMovies,\n  fetchMoviesByQuery,\n  fetchMovieById,\n  fetchTrailerById,\n  fetchGenres,\n  BASE_URL,\n  API_KEY,\n};\n\n// РЕКОМЕНДАЦІЇ\n// 1. Імпортувати axios.\n// 2. Зберегти в змінних ключ та URL.\n// 3. Створити та експортувати асинхронні запити по:\n// трендах, ключовому слові, інфо фільму, інфо відео, масив фільмів.\n","const averageElement = document.createElement('span');\nconst countElement = document.createElement('span');\nexport const getInitialModalData = () => {\n  const cardData = JSON.parse(localStorage.getItem('modalCardData'));\n\n  console.log('!!!!!! DATA !!!!!! ', cardData);\n\n  console.log('22222222 ', (cardData.vote_average * 1).toFixed(2));\n\n  const filmImg = document.getElementById('film-img');\n  const filmTitle = document.getElementById('film-title');\n  const votes = document.getElementById('votes');\n  const popul = document.getElementById('popul');\n  const origTitle = document.getElementById('origTitle');\n  const genre = document.getElementById('genre');\n\n  filmImg.src = `${cardData.poster_path}`;\n  filmTitle.innerText = `${cardData.title}`;\n  about.innerText = `${cardData.overview}`;\n  averageElement.className = 'average';\n  countElement.className = 'count';\n  averageElement.innerText = `${(cardData.vote_average * 1).toFixed(2)}`;\n  countElement.innerText = `/ ${cardData.vote_count}`;\n\n  votes.append(averageElement, countElement);\n\n  popul.innerText = `${cardData.popularity}`;\n  origTitle.innerText = `${cardData.original_title}`;\n  genre.innerText = `${cardData.genre_ids}`;\n};\n","import * as modalFunctions from './loading-into-modal';\n\nconst modal = document.getElementById('info-modal');\n\nwindow.addEventListener('keydown', event => {\n  if (event.key === 'Escape') {\n    modal.classList.remove('open');\n    localStorage.removeItem('modalCardData');\n  }\n});\n\nconst backdrop = document.getElementById('close-modal');\n\nbackdrop.addEventListener('click', event => {\n  console.log('111 event.target ', event.target);\n  console.log('111 backdrop ', backdrop);\n  if (event.target == backdrop) {\n    console.log('!!! ');\n    modal.classList.remove('open');\n    localStorage.removeItem('modalCardData');\n  }\n});\n\nwindow.onclick = event => {\n  let modal = document.getElementById('info-modal');\n\n  if (event.target == modal) {\n    modal.classList.remove('open');\n    localStorage.removeItem('modalCardData');\n  }\n};\n\nwindow.onload = () => {\n  const movieListItems = document.getElementsByClassName('movies')[0];\n  console.log('movieListItems', movieListItems);\n  movieListItems.addEventListener('click', e => {\n    const cardData = { ...e.target.dataset };\n    console.log('bla ', cardData);\n    localStorage.setItem('modalCardData', JSON.stringify(cardData));\n    openModal();\n  });\n};\n\nconst openModal = () => {\n  const modal = document.getElementById('info-modal');\n  modal.classList.add('open');\n  modalFunctions.getInitialModalData();\n};\n"],"names":["console","log","async","page1","url","URL","searchParams","append","response","fetch","json","$56ca17bb174b0ce3$export$225b489b0d997c20","$464bbe8c76c3bd9a$var$averageElement","document","createElement","$464bbe8c76c3bd9a$var$countElement","$021845d28981a6a0$var$modal","getElementById","window","addEventListener","event","key","classList","remove","localStorage","removeItem","$021845d28981a6a0$var$backdrop","target","onclick","modal1","onload","movieListItems","getElementsByClassName","e","cardData","dataset","setItem","JSON","stringify","$021845d28981a6a0$var$openModal","add","parse","getItem","vote_average","toFixed","filmImg","filmTitle","votes","popul","origTitle","genre","src","poster_path","innerText","title","about","overview","className","vote_count","popularity","original_title","genre_ids","$464bbe8c76c3bd9a$export$f5460f092c589d73"],"version":3,"file":"library.60319ff8.js.map"}